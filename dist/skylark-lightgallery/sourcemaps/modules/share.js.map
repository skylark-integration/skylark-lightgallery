{"version":3,"sources":["modules/share.js"],"names":["define","$","lightGallery","defaults","share","facebook","facebookDropdownText","twitter","twitterDropdownText","googlePlus","googlePlusDropdownText","pinterest","pinterestDropdownText","Share","element","this","core","data","s","extend","init","prototype","_this","shareHtml","$outer","find","append","on","toggleClass","ariaExpanded","attr","removeClass","$el","event","prevIndex","index","setTimeout","encodeURIComponent","getSahreProps","window","location","href","prop","shareProp","dynamic","dynamicEl","_href","$items","eq","_prop","destroy","fn","modules"],"mappings":";;;;;;;AAAAA,QACI,iBACA,oBACF,SAASC,EAAEC,GACT,aAEA,IAAIC,GACAC,OAAO,EACPC,UAAU,EACVC,qBAAsB,WACtBC,SAAS,EACTC,oBAAqB,UACrBC,YAAY,EACZC,uBAAwB,aACxBC,WAAW,EACXC,sBAAuB,aAGvBC,EAAQ,SAASC,GASjB,OAPAC,KAAKC,KAAOf,EAAEa,GAASG,KAAK,gBAE5BF,KAAKC,KAAKE,EAAIjB,EAAEkB,UAAWhB,EAAUY,KAAKC,KAAKE,GAC3CH,KAAKC,KAAKE,EAAEd,OACZW,KAAKK,OAGFL,MAGXF,EAAMQ,UAAUD,KAAO,WACnB,IAAIE,EAAQP,KAERQ,EAAY,yKAEhBA,GAAaD,EAAMN,KAAKE,EAAEb,SAAW,6GAA+GU,KAAKC,KAAKE,EAAEZ,qBAAuB,mBAAqB,GAC5MiB,GAAaD,EAAMN,KAAKE,EAAEX,QAAU,4GAA8GQ,KAAKC,KAAKE,EAAEV,oBAAsB,mBAAqB,GACzMe,GAAaD,EAAMN,KAAKE,EAAET,WAAa,+GAAiHM,KAAKC,KAAKE,EAAER,uBAAyB,mBAAqB,GAClNa,GAAaD,EAAMN,KAAKE,EAAEP,UAAY,8GAAgHI,KAAKC,KAAKE,EAAEN,sBAAwB,mBAAqB,GAC/MW,GAAa,iBAEbR,KAAKC,KAAKQ,OAAOC,KAAK,eAAeC,OAAOH,GAC5CR,KAAKC,KAAKQ,OAAOC,KAAK,OAAOC,OAAO,wCACpCzB,EAAE,aAAa0B,GAAG,WAAY,WAC1BL,EAAMN,KAAKQ,OAAOI,YAAY,sBAC9B,IAAIC,EAAe5B,EAAE,aAAa6B,KAAK,iBACvC7B,EAAE,aAAa6B,KAAK,gBAAkC,SAAjBD,KAGzC5B,EAAE,wBAAwB0B,GAAG,WAAY,WACrCL,EAAMN,KAAKQ,OAAOO,YAAY,sBAC9B9B,EAAE,aAAa6B,KAAK,iBAAiB,KAGzCR,EAAMN,KAAKgB,IAAIL,GAAG,qBAAsB,SAASM,EAAOC,EAAWC,GAE/DC,WAAW,WAEPnC,EAAE,sBAAsB6B,KAAK,OAAQ,gDAAmDO,mBAAmBf,EAAMgB,cAAcH,EAAO,qBAAuBI,OAAOC,SAASC,OAE7KxC,EAAE,qBAAqB6B,KAAK,OAAQ,yCAA2CR,EAAMgB,cAAcH,EAAO,aAAe,QAAWE,mBAAmBf,EAAMgB,cAAcH,EAAO,oBAAsBI,OAAOC,SAASC,OAExNxC,EAAE,wBAAwB6B,KAAK,OAAQ,qCAAwCO,mBAAmBf,EAAMgB,cAAcH,EAAO,uBAAyBI,OAAOC,SAASC,OAEtKxC,EAAE,uBAAuB6B,KAAK,OAAQ,mDAAsDO,mBAAmBf,EAAMgB,cAAcH,EAAO,sBAAwBI,OAAOC,SAASC,MAAS,UAAYJ,mBAAmBf,EAAMgB,cAAcH,EAAO,QAAU,gBAAkBb,EAAMgB,cAAcH,EAAO,mBAE7S,QAIXtB,EAAMQ,UAAUiB,cAAgB,SAASH,EAAOO,GAC5C,IAAIC,EAAY,GAChB,GAAG5B,KAAKC,KAAKE,EAAE0B,QACXD,EAAY5B,KAAKC,KAAKE,EAAE2B,UAAUV,GAAOO,OACtC,CACH,IAAII,EAAQ/B,KAAKC,KAAK+B,OAAOC,GAAGb,GAAOL,KAAK,QACxCmB,EAAQlC,KAAKC,KAAK+B,OAAOC,GAAGb,GAAOlB,KAAKyB,GAC5CC,EAAqB,QAATD,GAAiBI,GAAiBG,EAElD,OAAON,GAGX9B,EAAMQ,UAAU6B,QAAU,aAI1BjD,EAAEkD,GAAGjD,aAAakD,QAAQhD,MAAQS","file":"../../modules/share.js","sourcesContent":["define([\n    \"skylark-jquery\",\n    \"../light-gallery\"\n],function($,lightGallery){\n    'use strict';\n\n    var defaults = {\n        share: true,\n        facebook: true,\n        facebookDropdownText: 'Facebook',\n        twitter: true,\n        twitterDropdownText: 'Twitter',\n        googlePlus: true,\n        googlePlusDropdownText: 'GooglePlus',\n        pinterest: true,\n        pinterestDropdownText: 'Pinterest'\n    };\n\n    var Share = function(element) {\n\n        this.core = $(element).data('lightGallery');\n\n        this.core.s = $.extend({}, defaults, this.core.s);\n        if (this.core.s.share) {\n            this.init();\n        }\n\n        return this;\n    };\n\n    Share.prototype.init = function() {\n        var _this = this;\n\n        var shareHtml = '<button type=\"button\" aria-label=\"Share\" id=\"lg-share\" class=\"lg-icon\" aria-haspopup=\"true\" aria-expanded=\"false\">' +\n            '<ul class=\"lg-dropdown\" style=\"position: absolute;\">';\n        shareHtml += _this.core.s.facebook ? '<li><a id=\"lg-share-facebook\" target=\"_blank\"><span class=\"lg-icon\"></span><span class=\"lg-dropdown-text\">' + this.core.s.facebookDropdownText + '</span></a></li>' : '';\n        shareHtml += _this.core.s.twitter ? '<li><a id=\"lg-share-twitter\" target=\"_blank\"><span class=\"lg-icon\"></span><span class=\"lg-dropdown-text\">' + this.core.s.twitterDropdownText + '</span></a></li>' : '';\n        shareHtml += _this.core.s.googlePlus ? '<li><a id=\"lg-share-googleplus\" target=\"_blank\"><span class=\"lg-icon\"></span><span class=\"lg-dropdown-text\">' + this.core.s.googlePlusDropdownText + '</span></a></li>' : '';\n        shareHtml += _this.core.s.pinterest ? '<li><a id=\"lg-share-pinterest\" target=\"_blank\"><span class=\"lg-icon\"></span><span class=\"lg-dropdown-text\">' + this.core.s.pinterestDropdownText + '</span></a></li>' : '';\n        shareHtml += '</ul></button>';\n\n        this.core.$outer.find('.lg-toolbar').append(shareHtml);\n        this.core.$outer.find('.lg').append('<div id=\"lg-dropdown-overlay\"></div>');\n        $('#lg-share').on('click.lg', function(){\n            _this.core.$outer.toggleClass('lg-dropdown-active');\n            var ariaExpanded = $('#lg-share').attr('aria-expanded');\n            $('#lg-share').attr('aria-expanded', ariaExpanded === 'true' ? false: true);\n        });\n\n        $('#lg-dropdown-overlay').on('click.lg', function(){\n            _this.core.$outer.removeClass('lg-dropdown-active');\n            $('#lg-share').attr('aria-expanded', false);\n        });\n\n        _this.core.$el.on('onAfterSlide.lg.tm', function(event, prevIndex, index) {\n\n            setTimeout(function() {\n\n                $('#lg-share-facebook').attr('href', 'https://www.facebook.com/sharer/sharer.php?u=' + (encodeURIComponent(_this.getSahreProps(index, 'facebookShareUrl') || window.location.href)));\n\n                $('#lg-share-twitter').attr('href', 'https://twitter.com/intent/tweet?text=' + _this.getSahreProps(index, 'tweetText') + '&url=' + (encodeURIComponent(_this.getSahreProps(index, 'twitterShareUrl') || window.location.href)));\n\n                $('#lg-share-googleplus').attr('href', 'https://plus.google.com/share?url=' + (encodeURIComponent(_this.getSahreProps(index, 'googleplusShareUrl') || window.location.href)));\n\n                $('#lg-share-pinterest').attr('href', 'http://www.pinterest.com/pin/create/button/?url=' + (encodeURIComponent(_this.getSahreProps(index, 'pinterestShareUrl') || window.location.href)) + '&media=' + encodeURIComponent(_this.getSahreProps(index, 'src')) + '&description=' + _this.getSahreProps(index, 'pinterestText'));\n\n            }, 100);\n        });\n    };\n\n    Share.prototype.getSahreProps = function(index, prop){\n        var shareProp = '';\n        if(this.core.s.dynamic) {\n            shareProp = this.core.s.dynamicEl[index][prop];\n        } else {\n            var _href = this.core.$items.eq(index).attr('href');\n            var _prop = this.core.$items.eq(index).data(prop);\n            shareProp = prop === 'src' ? _href || _prop : _prop;\n        }\n        return shareProp;\n    };\n\n    Share.prototype.destroy = function() {\n\n    };\n\n    $.fn.lightGallery.modules.share = Share;\n\n});\n\n"]}