{"version":3,"sources":["modules/video.js"],"names":["define","$","lightGallery","defaults","videoMaxWidth","autoplayFirstVideo","youtubePlayerParams","vimeoPlayerParams","dailymotionPlayerParams","vkPlayerParams","videojs","videojsOptions","Video","element","this","core","data","$el","s","extend","videoLoaded","init","prototype","_this","on","event","index","src","html","$slide","eq","find","append","loadVideo","get","play","e","console","error","bind","$videoCont","hasClass","css","doCss","$items","length","enableSwipe","enableDrag","loadVideoOnclick","prevIndex","_src","$videoSlide","youtubePlayer","vimeoPlayer","dailymotionPlayer","vkPlayer","html5Player","contentWindow","postMessage","Vimeo","Player","pause","catch","name","warn","attr","replace","dynamic","dynamicEl","_isVideo","isVideo","youtube","vimeo","dailymotion","vk","$outer","addClass","removeClass","lGalleryOn","setTimeout","noPoster","videoTitle","video","autoplay","a","title","first","param","html5","fL","substring","is","_loadVideo","_html","$tempImg","destroy","fn","modules"],"mappings":"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","file":"../../modules/video.js","sourcesContent":["define([\n    \"skylark-jquery\",\n    \"../light-gallery\"\n],function($,lightGallery){\n    \n    'use strict';\n\n    var defaults = {\n        videoMaxWidth: '855px',\n\n        autoplayFirstVideo: true,\n\n        youtubePlayerParams: false,\n        vimeoPlayerParams: false,\n        dailymotionPlayerParams: false,\n        vkPlayerParams: false,\n\n        videojs: false,\n        videojsOptions: {}\n    };\n\n    var Video = function(element) {\n\n        this.core = $(element).data('lightGallery');\n\n        this.$el = $(element);\n        this.core.s = $.extend({}, defaults, this.core.s);\n        this.videoLoaded = false;\n\n        this.init();\n\n        return this;\n    };\n\n    Video.prototype.init = function() {\n        var _this = this;\n\n        // Event triggered when video url found without poster\n        _this.core.$el.on('hasVideo.lg.tm', onHasVideo.bind(this));\n\n        // Set max width for video\n        _this.core.$el.on('onAferAppendSlide.lg.tm', onAferAppendSlide.bind(this));\n\n        if (_this.core.doCss() && (_this.core.$items.length > 1) && (_this.core.s.enableSwipe || _this.core.s.enableDrag)) {\n            _this.core.$el.on('onSlideClick.lg.tm', function() {\n                var $el = _this.core.$slide.eq(_this.core.index);\n                _this.loadVideoOnclick($el);\n            });\n        } else {\n\n            // For IE 9 and bellow\n            _this.core.$slide.on('click.lg', function() {\n                _this.loadVideoOnclick($(this));\n            });\n        }\n\n        _this.core.$el.on('onBeforeSlide.lg.tm', onBeforeSlide.bind(this));\n\n        _this.core.$el.on('onAfterSlide.lg.tm', function(event, prevIndex) {\n            _this.core.$slide.eq(prevIndex).removeClass('lg-video-playing');\n        });\n        \n        if (_this.core.s.autoplayFirstVideo) {\n            _this.core.$el.on('onAferAppendSlide.lg.tm', function (e, index) {\n                if (!_this.core.lGalleryOn) {\n                    var $el = _this.core.$slide.eq(index);\n                    setTimeout(function () {\n                        _this.loadVideoOnclick($el);\n                    }, 100);\n                }\n            });\n        }\n    };\n\n    Video.prototype.loadVideo = function(src, addClass, noPoster, index, html) {\n        var _this = this;\n        var video = '';\n        var autoplay = 1;\n        var a = '';\n        var isVideo = this.core.isVideo(src, index) || {};\n        var videoTitle;\n\n        if (_this.core.s.dynamic) {\n            videoTitle = _this.core.s.dynamicEl[_this.core.index].title;\n        } else {\n            videoTitle = _this.core.$items.eq(_this.core.index).attr('title') || _this.core.$items.eq(_this.core.index).find('img').first().attr('alt');\n        }\n\n        videoTitle = videoTitle ? 'title=\"' + videoTitle + '\"' : '';\n\n        // Enable autoplay based on setting for first video if poster doesn't exist\n        if (noPoster) {\n            if (this.videoLoaded) {\n                autoplay = 0;\n            } else {\n                autoplay = this.core.s.autoplayFirstVideo ? 1 : 0;\n            }\n        }\n\n        if (isVideo.youtube) {\n\n            a = '?wmode=opaque&autoplay=' + autoplay + '&enablejsapi=1';\n            if (this.core.s.youtubePlayerParams) {\n                a = a + '&' + $.param(this.core.s.youtubePlayerParams);\n            }\n\n            video = '<iframe allow=\"autoplay\" class=\"lg-video-object lg-youtube ' + addClass + '\" ' + videoTitle + ' width=\"560\" height=\"315\" src=\"//www.youtube.com/embed/' + isVideo.youtube[1] + a + '\" frameborder=\"0\" allowfullscreen></iframe>';\n\n        } else if (isVideo.vimeo) {\n\n            a = '?autoplay=' + autoplay;\n            if (this.core.s.vimeoPlayerParams) {\n                a = a + '&' + $.param(this.core.s.vimeoPlayerParams);\n            }\n\n            video = '<iframe allow=\"autoplay\" class=\"lg-video-object lg-vimeo ' + addClass + '\" ' + videoTitle + ' width=\"560\" height=\"315\"  src=\"//player.vimeo.com/video/' + isVideo.vimeo[1] + a + '\" frameborder=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';\n\n        } else if (isVideo.dailymotion) {\n\n            a = '?wmode=opaque&autoplay=' + autoplay + '&api=postMessage';\n            if (this.core.s.dailymotionPlayerParams) {\n                a = a + '&' + $.param(this.core.s.dailymotionPlayerParams);\n            }\n\n            video = '<iframe allow=\"autoplay\" class=\"lg-video-object lg-dailymotion ' + addClass + '\" ' + videoTitle + ' width=\"560\" height=\"315\" src=\"//www.dailymotion.com/embed/video/' + isVideo.dailymotion[1] + a + '\" frameborder=\"0\" allowfullscreen></iframe>';\n\n        } else if (isVideo.html5) {\n            var fL = html.substring(0, 1);\n            if (fL === '.' || fL === '#') {\n                html = $(html).html();\n            }\n\n            video = html;\n\n        } else if (isVideo.vk) {\n\n            a = '&autoplay=' + autoplay;\n            if (this.core.s.vkPlayerParams) {\n                a = a + '&' + $.param(this.core.s.vkPlayerParams);\n            }\n\n            video = '<iframe allow=\"autoplay\" class=\"lg-video-object lg-vk ' + addClass + '\" ' + videoTitle + ' width=\"560\" height=\"315\" src=\"//vk.com/video_ext.php?' + isVideo.vk[1] + a + '\" frameborder=\"0\" allowfullscreen></iframe>';\n\n        }\n\n        return video;\n    };\n\n    Video.prototype.loadVideoOnclick = function($el){\n\n        var _this = this;\n        // check slide has poster\n        if ($el.find('.lg-object').hasClass('lg-has-poster') && $el.find('.lg-object').is(':visible')) {\n\n            // check already video element present\n            if (!$el.hasClass('lg-has-video')) {\n\n                $el.addClass('lg-video-playing lg-has-video');\n\n                var _src;\n                var _html;\n                var _loadVideo = function(_src, _html) {\n\n                    $el.find('.lg-video').append(_this.loadVideo(_src, '', false, _this.core.index, _html));\n\n                    if (_html) {\n                        if (_this.core.s.videojs) {\n                            try {\n                                videojs(_this.core.$slide.eq(_this.core.index).find('.lg-html5').get(0), _this.core.s.videojsOptions, function() {\n                                    this.play();\n                                });\n                            } catch (e) {\n                                console.error('lightGallery:- Make sure you have included videojs');\n                            }\n                        } else {\n                            _this.core.$slide.eq(_this.core.index).find('.lg-html5').get(0).play();\n                        }\n                    }\n\n                };\n\n                if (_this.core.s.dynamic) {\n\n                    _src = _this.core.s.dynamicEl[_this.core.index].src;\n                    _html = _this.core.s.dynamicEl[_this.core.index].html;\n\n                    _loadVideo(_src, _html);\n\n                } else {\n\n                    _src = _this.core.$items.eq(_this.core.index).attr('href') || _this.core.$items.eq(_this.core.index).attr('data-src');\n                    _html = _this.core.$items.eq(_this.core.index).attr('data-html');\n\n                    _loadVideo(_src, _html);\n\n                }\n\n                var $tempImg = $el.find('.lg-object');\n                $el.find('.lg-video').append($tempImg);\n\n                // @todo loading icon for html5 videos also\n                // for showing the loading indicator while loading video\n                if (!$el.find('.lg-video-object').hasClass('lg-html5')) {\n                    $el.removeClass('lg-complete');\n                    $el.find('.lg-video-object').on('load.lg error.lg', function() {\n                        $el.addClass('lg-complete');\n                    });\n                }\n\n            } else {\n\n                var youtubePlayer = $el.find('.lg-youtube').get(0);\n                var vimeoPlayer = $el.find('.lg-vimeo').get(0);\n                var dailymotionPlayer = $el.find('.lg-dailymotion').get(0);\n                var html5Player = $el.find('.lg-html5').get(0);\n                if (youtubePlayer) {\n                    youtubePlayer.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"playVideo\",\"args\":\"\"}', '*');\n                } else if (vimeoPlayer) {\n                    try {\n                        new Vimeo.Player(vimeoPlayer).play().catch(function(error) {\n                            console.error('error playing the video:', error.name);\n                        });\n                    } catch (e) {\n                        console.warn('lightGallery:- Make sure you have included https://github.com/vimeo/player.js');\n                    }\n                } else if (dailymotionPlayer) {\n                    dailymotionPlayer.contentWindow.postMessage('play', '*');\n\n                } else if (html5Player) {\n                    if (_this.core.s.videojs) {\n                        try {\n                            videojs(html5Player).play();\n                        } catch (e) {\n                            console.error('lightGallery:- Make sure you have included videojs');\n                        }\n                    } else {\n                        html5Player.play();\n                    }\n                }\n\n                $el.addClass('lg-video-playing');\n\n            }\n        }\n    };\n\n    Video.prototype.destroy = function() {\n        this.videoLoaded = false;\n    };\n\n    function onHasVideo(event, index, src, html) {\n        /*jshint validthis:true */\n        var _this = this;\n        _this.core.$slide.eq(index).find('.lg-video').append(_this.loadVideo(src, 'lg-object', true, index, html));\n        if (html) {\n            if (_this.core.s.videojs) {\n                try {\n                    videojs(_this.core.$slide.eq(index).find('.lg-html5').get(0), _this.core.s.videojsOptions, function() {\n                        if (!_this.videoLoaded && _this.core.s.autoplayFirstVideo) {\n                            this.play();\n                        }\n                    });\n                } catch (e) {\n                    console.error('lightGallery:- Make sure you have included videojs');\n                }\n            } else {\n                if(!_this.videoLoaded && _this.core.s.autoplayFirstVideo) {\n                    _this.core.$slide.eq(index).find('.lg-html5').get(0).play();\n                }\n            }\n        }\n    }\n\n    function onAferAppendSlide(event, index) {\n        /*jshint validthis:true */\n        var $videoCont = this.core.$slide.eq(index).find('.lg-video-cont');\n        if (!$videoCont.hasClass('lg-has-iframe')) {\n            $videoCont.css('max-width', this.core.s.videoMaxWidth);\n            this.videoLoaded = true;\n        }\n    }\n\n    function onBeforeSlide(event, prevIndex, index) {\n        /*jshint validthis:true */\n        var _this = this;\n\n        var $videoSlide = _this.core.$slide.eq(prevIndex);\n        var youtubePlayer = $videoSlide.find('.lg-youtube').get(0);\n        var vimeoPlayer = $videoSlide.find('.lg-vimeo').get(0);\n        var dailymotionPlayer = $videoSlide.find('.lg-dailymotion').get(0);\n        var vkPlayer = $videoSlide.find('.lg-vk').get(0);\n        var html5Player = $videoSlide.find('.lg-html5').get(0);\n        if (youtubePlayer) {\n            youtubePlayer.contentWindow.postMessage('{\"event\":\"command\",\"func\":\"pauseVideo\",\"args\":\"\"}', '*');\n        } else if (vimeoPlayer) {\n            try {\n                new Vimeo.Player(vimeoPlayer).pause().catch(function(error) {\n                    console.error('Unable to pause the video:', error.name);\n                });\n            } catch (e) {\n                console.warn('lightGallery:- Make sure you have included https://github.com/vimeo/player.js');\n            }\n        } else if (dailymotionPlayer) {\n            dailymotionPlayer.contentWindow.postMessage('pause', '*');\n\n        } else if (html5Player) {\n            if (_this.core.s.videojs) {\n                try {\n                    videojs(html5Player).pause();\n                } catch (e) {\n                    console.error('lightGallery:- Make sure you have included videojs');\n                }\n            } else {\n                html5Player.pause();\n            }\n        } if (vkPlayer) {\n            $(vkPlayer).attr('src', $(vkPlayer).attr('src').replace('&autoplay', '&noplay'));\n        }\n\n        var _src;\n        if (_this.core.s.dynamic) {\n            _src = _this.core.s.dynamicEl[index].src;\n        } else {\n            _src = _this.core.$items.eq(index).attr('href') || _this.core.$items.eq(index).attr('data-src');\n\n        }\n\n        var _isVideo = _this.core.isVideo(_src, index) || {};\n        if (_isVideo.youtube || _isVideo.vimeo || _isVideo.dailymotion || _isVideo.vk) {\n            _this.core.$outer.addClass('lg-hide-download');\n        }\n\n    }\n\n    $.fn.lightGallery.modules.video = Video;\n\n});\n\n\n"]}