{"version":3,"sources":["modules/thumbnail.js"],"names":["define","$","lightGallery","defaults","thumbnail","animateThumb","currentPagerPosition","thumbWidth","thumbHeight","thumbContHeight","thumbMargin","exThumbImage","showThumbByDefault","toogleThumb","pullCaptionUp","enableThumbDrag","enableThumbSwipe","swipeThreshold","loadYoutubeThumbnail","youtubeThumbSize","loadVimeoThumbnail","vimeoThumbSize","loadDailymotionThumbnail","Thumbnail","element","this","core","data","s","extend","$el","$thumbOuter","thumbOuterWidth","thumbTotalWidth","$items","length","thumbIndex","index","left","init","prototype","_this","setTimeout","$outer","addClass","build","doCss","thumbClickable","toogle","thumbkeyPress","$thumb","thumbList","vimeoErrorThumbSize","getThumb","src","thumb","thumbImg","isVideo","vimeoId","youtube","vimeo","dailymotion","find","append","width","css","position","dynamic","i","dynamicEl","each","attr","html","$this","vimeoVideoId","getJSON","format","eq","on","removeClass","_$this","lgBusy","slide","window","setTranslate","value","transform","lGalleryOn","hasClass","speed","animate","startCoords","endCoords","isDraging","isMoved","tempLeft","e","preventDefault","pageX","scrollLeft","Math","abs","originalEvent","targetTouches","toggleClass","keyCode","destroy","off","remove","fn","modules"],"mappings":"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","file":"../../modules/thumbnail.js","sourcesContent":["define([\n    \"skylark-jquery\",\n    \"../light-gallery\"\n],function($,lightGallery){\n    'use strict';\n\n    var defaults = {\n        thumbnail: true,\n\n        animateThumb: true,\n        currentPagerPosition: 'middle',\n\n        thumbWidth: 100,\n        thumbHeight: '80px',\n        thumbContHeight: 100,\n        thumbMargin: 5,\n\n        exThumbImage: false,\n        showThumbByDefault: true,\n        toogleThumb: true,\n        pullCaptionUp: true,\n\n        enableThumbDrag: true,\n        enableThumbSwipe: true,\n        swipeThreshold: 50,\n\n        loadYoutubeThumbnail: true,\n        youtubeThumbSize: 1,\n\n        loadVimeoThumbnail: true,\n        vimeoThumbSize: 'thumbnail_small',\n\n        loadDailymotionThumbnail: true\n    };\n\n    var Thumbnail = function(element) {\n\n        // get lightGallery core plugin data\n        this.core = $(element).data('lightGallery');\n\n        // extend module default settings with lightGallery core settings\n        this.core.s = $.extend({}, defaults, this.core.s);\n\n        this.$el = $(element);\n        this.$thumbOuter = null;\n        this.thumbOuterWidth = 0;\n        this.thumbTotalWidth = (this.core.$items.length * (this.core.s.thumbWidth + this.core.s.thumbMargin));\n        this.thumbIndex = this.core.index;\n\n        if (this.core.s.animateThumb) {\n            this.core.s.thumbHeight = '100%';\n        }\n\n        // Thumbnail animation value\n        this.left = 0;\n\n        this.init();\n\n        return this;\n    };\n\n    Thumbnail.prototype.init = function() {\n        var _this = this;\n        if (this.core.s.thumbnail && this.core.$items.length > 1) {\n            if (this.core.s.showThumbByDefault) {\n                setTimeout(function(){\n                    _this.core.$outer.addClass('lg-thumb-open');\n                }, 700);\n            }\n\n            if (this.core.s.pullCaptionUp) {\n                this.core.$outer.addClass('lg-pull-caption-up');\n            }\n\n            this.build();\n            if (this.core.s.animateThumb && this.core.doCss()) {\n                if (this.core.s.enableThumbDrag) {\n                    this.enableThumbDrag();\n                }\n\n                if (this.core.s.enableThumbSwipe) {\n                    this.enableThumbSwipe();\n                }\n\n                this.thumbClickable = false;\n            } else {\n                this.thumbClickable = true;\n            }\n\n            this.toogle();\n            this.thumbkeyPress();\n        }\n    };\n\n    Thumbnail.prototype.build = function() {\n        var _this = this;\n        var thumbList = '';\n        var vimeoErrorThumbSize = '';\n        var $thumb;\n        var html = '<div class=\"lg-thumb-outer\">' +\n            '<div class=\"lg-thumb lg-group\">' +\n            '</div>' +\n            '</div>';\n\n        switch (this.core.s.vimeoThumbSize) {\n            case 'thumbnail_large':\n                vimeoErrorThumbSize = '640';\n                break;\n            case 'thumbnail_medium':\n                vimeoErrorThumbSize = '200x150';\n                break;\n            case 'thumbnail_small':\n                vimeoErrorThumbSize = '100x75';\n        }\n\n        _this.core.$outer.addClass('lg-has-thumb');\n\n        _this.core.$outer.find('.lg').append(html);\n\n        _this.$thumbOuter = _this.core.$outer.find('.lg-thumb-outer');\n        _this.thumbOuterWidth = _this.$thumbOuter.width();\n\n        if (_this.core.s.animateThumb) {\n            _this.core.$outer.find('.lg-thumb').css({\n                width: _this.thumbTotalWidth + 'px',\n                position: 'relative'\n            });\n        }\n\n        if (this.core.s.animateThumb) {\n            _this.$thumbOuter.css('height', _this.core.s.thumbContHeight + 'px');\n        }\n\n        function getThumb(src, thumb, index) {\n            var isVideo = _this.core.isVideo(src, index) || {};\n            var thumbImg;\n            var vimeoId = '';\n\n            if (isVideo.youtube || isVideo.vimeo || isVideo.dailymotion) {\n                if (isVideo.youtube) {\n                    if (_this.core.s.loadYoutubeThumbnail) {\n                        thumbImg = '//img.youtube.com/vi/' + isVideo.youtube[1] + '/' + _this.core.s.youtubeThumbSize + '.jpg';\n                    } else {\n                        thumbImg = thumb;\n                    }\n                } else if (isVideo.vimeo) {\n                    if (_this.core.s.loadVimeoThumbnail) {\n                        thumbImg = '//i.vimeocdn.com/video/error_' + vimeoErrorThumbSize + '.jpg';\n                        vimeoId = isVideo.vimeo[1];\n                    } else {\n                        thumbImg = thumb;\n                    }\n                } else if (isVideo.dailymotion) {\n                    if (_this.core.s.loadDailymotionThumbnail) {\n                        thumbImg = '//www.dailymotion.com/thumbnail/video/' + isVideo.dailymotion[1];\n                    } else {\n                        thumbImg = thumb;\n                    }\n                }\n            } else {\n                thumbImg = thumb;\n            }\n\n            thumbList += '<div data-vimeo-id=\"' + vimeoId + '\" class=\"lg-thumb-item\" style=\"width:' + _this.core.s.thumbWidth + 'px; height: ' + _this.core.s.thumbHeight + '; margin-right: ' + _this.core.s.thumbMargin + 'px\"><img src=\"' + thumbImg + '\" /></div>';\n            vimeoId = '';\n        }\n\n        if (_this.core.s.dynamic) {\n            for (var i = 0; i < _this.core.s.dynamicEl.length; i++) {\n                getThumb(_this.core.s.dynamicEl[i].src, _this.core.s.dynamicEl[i].thumb, i);\n            }\n        } else {\n            _this.core.$items.each(function(i) {\n\n                if (!_this.core.s.exThumbImage) {\n                    getThumb($(this).attr('href') || $(this).attr('data-src'), $(this).find('img').attr('src'), i);\n                } else {\n                    getThumb($(this).attr('href') || $(this).attr('data-src'), $(this).attr(_this.core.s.exThumbImage), i);\n                }\n\n            });\n        }\n\n        _this.core.$outer.find('.lg-thumb').html(thumbList);\n\n        $thumb = _this.core.$outer.find('.lg-thumb-item');\n\n        // Load vimeo thumbnails\n        $thumb.each(function() {\n            var $this = $(this);\n            var vimeoVideoId = $this.attr('data-vimeo-id');\n\n            if (vimeoVideoId) {\n                $.getJSON('//www.vimeo.com/api/v2/video/' + vimeoVideoId + '.json?callback=?', {\n                    format: 'json'\n                }, function(data) {\n                    $this.find('img').attr('src', data[0][_this.core.s.vimeoThumbSize]);\n                });\n            }\n        });\n\n        // manage active class for thumbnail\n        $thumb.eq(_this.core.index).addClass('active');\n        _this.core.$el.on('onBeforeSlide.lg.tm', function() {\n            $thumb.removeClass('active');\n            $thumb.eq(_this.core.index).addClass('active');\n        });\n\n        $thumb.on('click.lg touchend.lg', function() {\n            var _$this = $(this);\n            setTimeout(function() {\n\n                // In IE9 and bellow touch does not support\n                // Go to slide if browser does not support css transitions\n                if ((_this.thumbClickable && !_this.core.lgBusy) || !_this.core.doCss()) {\n                    _this.core.index = _$this.index();\n                    _this.core.slide(_this.core.index, false, true, false);\n                }\n            }, 50);\n        });\n\n        _this.core.$el.on('onBeforeSlide.lg.tm', function() {\n            _this.animateThumb(_this.core.index);\n        });\n\n        $(window).on('resize.lg.thumb orientationchange.lg.thumb', function() {\n            setTimeout(function() {\n                _this.animateThumb(_this.core.index);\n                _this.thumbOuterWidth = _this.$thumbOuter.width();\n            }, 200);\n        });\n\n    };\n\n    Thumbnail.prototype.setTranslate = function(value) {\n        // jQuery supports Automatic CSS prefixing since jQuery 1.8.0\n        this.core.$outer.find('.lg-thumb').css({\n            transform: 'translate3d(-' + (value) + 'px, 0px, 0px)'\n        });\n    };\n\n    Thumbnail.prototype.animateThumb = function(index) {\n        var $thumb = this.core.$outer.find('.lg-thumb');\n        if (this.core.s.animateThumb) {\n            var position;\n            switch (this.core.s.currentPagerPosition) {\n                case 'left':\n                    position = 0;\n                    break;\n                case 'middle':\n                    position = (this.thumbOuterWidth / 2) - (this.core.s.thumbWidth / 2);\n                    break;\n                case 'right':\n                    position = this.thumbOuterWidth - this.core.s.thumbWidth;\n            }\n            this.left = ((this.core.s.thumbWidth + this.core.s.thumbMargin) * index - 1) - position;\n            if (this.left > (this.thumbTotalWidth - this.thumbOuterWidth)) {\n                this.left = this.thumbTotalWidth - this.thumbOuterWidth;\n            }\n\n            if (this.left < 0) {\n                this.left = 0;\n            }\n\n            if (this.core.lGalleryOn) {\n                if (!$thumb.hasClass('on')) {\n                    this.core.$outer.find('.lg-thumb').css('transition-duration', this.core.s.speed + 'ms');\n                }\n\n                if (!this.core.doCss()) {\n                    $thumb.animate({\n                        left: -this.left + 'px'\n                    }, this.core.s.speed);\n                }\n            } else {\n                if (!this.core.doCss()) {\n                    $thumb.css('left', -this.left + 'px');\n                }\n            }\n\n            this.setTranslate(this.left);\n\n        }\n    };\n\n    // Enable thumbnail dragging and swiping\n    Thumbnail.prototype.enableThumbDrag = function() {\n\n        var _this = this;\n        var startCoords = 0;\n        var endCoords = 0;\n        var isDraging = false;\n        var isMoved = false;\n        var tempLeft = 0;\n\n        _this.$thumbOuter.addClass('lg-grab');\n\n        _this.core.$outer.find('.lg-thumb').on('mousedown.lg.thumb', function(e) {\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\n                // execute only on .lg-object\n                e.preventDefault();\n                startCoords = e.pageX;\n                isDraging = true;\n\n                // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n                _this.core.$outer.scrollLeft += 1;\n                _this.core.$outer.scrollLeft -= 1;\n\n                // *\n                _this.thumbClickable = false;\n                _this.$thumbOuter.removeClass('lg-grab').addClass('lg-grabbing');\n            }\n        });\n\n        $(window).on('mousemove.lg.thumb', function(e) {\n            if (isDraging) {\n                tempLeft = _this.left;\n                isMoved = true;\n                endCoords = e.pageX;\n\n                _this.$thumbOuter.addClass('lg-dragging');\n\n                tempLeft = tempLeft - (endCoords - startCoords);\n\n                if (tempLeft > (_this.thumbTotalWidth - _this.thumbOuterWidth)) {\n                    tempLeft = _this.thumbTotalWidth - _this.thumbOuterWidth;\n                }\n\n                if (tempLeft < 0) {\n                    tempLeft = 0;\n                }\n\n                // move current slide\n                _this.setTranslate(tempLeft);\n\n            }\n        });\n\n        $(window).on('mouseup.lg.thumb', function() {\n            if (isMoved) {\n                isMoved = false;\n                _this.$thumbOuter.removeClass('lg-dragging');\n\n                _this.left = tempLeft;\n\n                if (Math.abs(endCoords - startCoords) < _this.core.s.swipeThreshold) {\n                    _this.thumbClickable = true;\n                }\n\n            } else {\n                _this.thumbClickable = true;\n            }\n\n            if (isDraging) {\n                isDraging = false;\n                _this.$thumbOuter.removeClass('lg-grabbing').addClass('lg-grab');\n            }\n        });\n\n    };\n\n    Thumbnail.prototype.enableThumbSwipe = function() {\n        var _this = this;\n        var startCoords = 0;\n        var endCoords = 0;\n        var isMoved = false;\n        var tempLeft = 0;\n\n        _this.core.$outer.find('.lg-thumb').on('touchstart.lg', function(e) {\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\n                e.preventDefault();\n                startCoords = e.originalEvent.targetTouches[0].pageX;\n                _this.thumbClickable = false;\n            }\n        });\n\n        _this.core.$outer.find('.lg-thumb').on('touchmove.lg', function(e) {\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\n                e.preventDefault();\n                endCoords = e.originalEvent.targetTouches[0].pageX;\n                isMoved = true;\n\n                _this.$thumbOuter.addClass('lg-dragging');\n\n                tempLeft = _this.left;\n\n                tempLeft = tempLeft - (endCoords - startCoords);\n\n                if (tempLeft > (_this.thumbTotalWidth - _this.thumbOuterWidth)) {\n                    tempLeft = _this.thumbTotalWidth - _this.thumbOuterWidth;\n                }\n\n                if (tempLeft < 0) {\n                    tempLeft = 0;\n                }\n\n                // move current slide\n                _this.setTranslate(tempLeft);\n\n            }\n        });\n\n        _this.core.$outer.find('.lg-thumb').on('touchend.lg', function() {\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\n\n                if (isMoved) {\n                    isMoved = false;\n                    _this.$thumbOuter.removeClass('lg-dragging');\n                    if (Math.abs(endCoords - startCoords) < _this.core.s.swipeThreshold) {\n                        _this.thumbClickable = true;\n                    }\n\n                    _this.left = tempLeft;\n                } else {\n                    _this.thumbClickable = true;\n                }\n            } else {\n                _this.thumbClickable = true;\n            }\n        });\n\n    };\n\n    Thumbnail.prototype.toogle = function() {\n        var _this = this;\n        if (_this.core.s.toogleThumb) {\n            _this.core.$outer.addClass('lg-can-toggle');\n            _this.$thumbOuter.append('<button type=\"button\" aria-label=\"Toggle thumbnails\" class=\"lg-toogle-thumb lg-icon\"></button>');\n            _this.core.$outer.find('.lg-toogle-thumb').on('click.lg', function() {\n                _this.core.$outer.toggleClass('lg-thumb-open');\n            });\n        }\n    };\n\n    Thumbnail.prototype.thumbkeyPress = function() {\n        var _this = this;\n        $(window).on('keydown.lg.thumb', function(e) {\n            if (e.keyCode === 38) {\n                e.preventDefault();\n                _this.core.$outer.addClass('lg-thumb-open');\n            } else if (e.keyCode === 40) {\n                e.preventDefault();\n                _this.core.$outer.removeClass('lg-thumb-open');\n            }\n        });\n    };\n\n    Thumbnail.prototype.destroy = function() {\n        if (this.core.s.thumbnail && this.core.$items.length > 1) {\n            $(window).off('resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb');\n            this.$thumbOuter.remove();\n            this.core.$outer.removeClass('lg-has-thumb');\n        }\n    };\n\n    $.fn.lightGallery.modules.Thumbnail = Thumbnail;\n\n});\n\n"]}