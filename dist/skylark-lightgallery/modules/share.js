/**
 * skylark-lightgallery - The skylark album widgets.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-jquery","../light-gallery"],function(e,t){"use strict";var o={share:!0,facebook:!0,facebookDropdownText:"Facebook",twitter:!0,twitterDropdownText:"Twitter",googlePlus:!0,googlePlusDropdownText:"GooglePlus",pinterest:!0,pinterestDropdownText:"Pinterest"},r=function(t){return this.core=e(t).data("lightGallery"),this.core.s=e.extend({},o,this.core.s),this.core.s.share&&this.init(),this};r.prototype.init=function(){var t=this,o='<button type="button" aria-label="Share" id="lg-share" class="lg-icon" aria-haspopup="true" aria-expanded="false"><ul class="lg-dropdown" style="position: absolute;">';o+=t.core.s.facebook?'<li><a id="lg-share-facebook" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+this.core.s.facebookDropdownText+"</span></a></li>":"",o+=t.core.s.twitter?'<li><a id="lg-share-twitter" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+this.core.s.twitterDropdownText+"</span></a></li>":"",o+=t.core.s.googlePlus?'<li><a id="lg-share-googleplus" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+this.core.s.googlePlusDropdownText+"</span></a></li>":"",o+=t.core.s.pinterest?'<li><a id="lg-share-pinterest" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+this.core.s.pinterestDropdownText+"</span></a></li>":"",o+="</ul></button>",this.core.$outer.find(".lg-toolbar").append(o),this.core.$outer.find(".lg").append('<div id="lg-dropdown-overlay"></div>'),e("#lg-share").on("click.lg",function(){t.core.$outer.toggleClass("lg-dropdown-active");var o=e("#lg-share").attr("aria-expanded");e("#lg-share").attr("aria-expanded","true"!==o)}),e("#lg-dropdown-overlay").on("click.lg",function(){t.core.$outer.removeClass("lg-dropdown-active"),e("#lg-share").attr("aria-expanded",!1)}),t.core.$el.on("onAfterSlide.lg.tm",function(o,r,a){setTimeout(function(){e("#lg-share-facebook").attr("href","https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(t.getSahreProps(a,"facebookShareUrl")||window.location.href)),e("#lg-share-twitter").attr("href","https://twitter.com/intent/tweet?text="+t.getSahreProps(a,"tweetText")+"&url="+encodeURIComponent(t.getSahreProps(a,"twitterShareUrl")||window.location.href)),e("#lg-share-googleplus").attr("href","https://plus.google.com/share?url="+encodeURIComponent(t.getSahreProps(a,"googleplusShareUrl")||window.location.href)),e("#lg-share-pinterest").attr("href","http://www.pinterest.com/pin/create/button/?url="+encodeURIComponent(t.getSahreProps(a,"pinterestShareUrl")||window.location.href)+"&media="+encodeURIComponent(t.getSahreProps(a,"src"))+"&description="+t.getSahreProps(a,"pinterestText"))},100)})},r.prototype.getSahreProps=function(e,t){var o="";if(this.core.s.dynamic)o=this.core.s.dynamicEl[e][t];else{var r=this.core.$items.eq(e).attr("href"),a=this.core.$items.eq(e).data(t);o="src"===t&&r||a}return o},r.prototype.destroy=function(){},e.fn.lightGallery.modules.share=r});
//# sourceMappingURL=../sourcemaps/modules/share.js.map
